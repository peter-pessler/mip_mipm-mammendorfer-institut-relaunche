!function(){var t=$('<div id="galleryOverlay" data-count="">'),e=$('<div id="gallerySlider">'),a=$('<a id="prevArrow"></a>'),n=$('<a id="nextArrow"></a>'),r=!1;$.fn.imageGallery=function(){function o(e){var a=$("#prevArrow"),n=$("#nextArrow"),i=w.length-1;if(0==e?(n.show(),a.hide()):e>0&&e<i?(n.show(),a.show()):e==i&&(n.hide(),a.show()),$("#galleryOverlay").attr("data-count",e+1+"/"+w.length),r)return!1;t.show(),setTimeout((function(){t.addClass("visible")}),100),s(e),r=!0}function l(){if(!r)return!1;t.hide().removeClass("visible"),r=!1,$(".placeholder").empty(),w=v}function s(t){e.css("left",100*-t+"%")}function d(t){setTimeout((function(){c(t)}),1e3)}function c(t){if(t<0||t>=w.length)return!1;h(w.eq(t).attr("data-responsive"),w.eq(t).attr("data-src"),(function(){f.eq(t).html(this)}));var e=w.eq(t).attr("data-title"),a=70,n=$(window).innerWidth();e=e.length>a?e.substring(0,67)+"...":e,f.eq(t).attr("data-position",t).attr("data-title",e)}function h(t,e,a){var n=t.split(","),r=n.length,o=[],l,s,d,c,h,u=n[r-1].split("|")[1];for(l=parseInt($(window).width()),$(window).resize((function(){l=parseInt($(window).width())})),i=0;i<r;i++)o=n[i].split("|"),s=parseInt(o[1]),d=o[0],s<=l&&(c=s,h=o[0].replace(/\s/g,""));var g=$("<img>").on("load",(function(){a.call(g)}));l>u?(g.attr("src",e),g.addClass("galleryImage")):(g.attr("src",h),g.addClass("galleryImage")),$(window).resize((function(){var t=$("<img>").on("load",(function(){a.call(t)}));l>u?(t.attr("src",e),t.addClass("galleryImage")):(t.attr("src",h),t.addClass("galleryImage"))}))}function u(){p+1<w.length?(s(++p),d(p+1)):(e.addClass("rightSpring"),setTimeout((function(){e.removeClass("rightSpring")}),500));var t=$("#prevArrow"),a=$("#nextArrow"),n=w.length-1;0==p?(a.show(),t.hide()):p>0&&p<n?(a.show(),t.show()):p==n&&(a.hide(),t.show()),$("#galleryOverlay").attr("data-count",p+1+"/"+w.length)}function g(){p>0?(s(--p),d(p-1)):(e.addClass("leftSpring"),setTimeout((function(){e.removeClass("leftSpring")}),500));var t=$("#prevArrow"),a=$("#nextArrow"),n=w.length-1;0==p?(a.show(),t.hide()):p>0&&p<n?(a.show(),t.show()):p==n&&(a.hide(),t.show()),$("#galleryOverlay").attr("data-count",p+1+"/"+w.length)}var f=$([]),p=0,v=this,w=v;t.hide().appendTo("body"),e.appendTo(t),w.each((function(){f=f.add($('<div class="placeholder">'))})),e.append(f).on("click",(function(t){$(t.target).is("img")||l()})),$("body").on("touchstart","#gallerySlider img",(function(t){var a=t.originalEvent,n=a.changedTouches[0].pageX;return e.on("touchmove",(function(t){t.preventDefault(),(a=t.originalEvent.touches[0]||t.originalEvent.changedTouches[0]).pageX-n>10?(e.off("touchmove"),g()):a.pageX-n<-10&&(e.off("touchmove"),u())})),!1})).on("touchend",(function(){e.off("touchmove")})),w.on("click",(function(t){t.preventDefault();var e=$(this),a,n,r=e.parent().closest("[data-gallery]");e.attr("data-gallery")?(a=e.attr("data-gallery"),n="item"):r.length&&(a=r.attr("data-gallery"),n="ancestor"),a&&"item"==n?w=$("[data-gallery="+a+"]"):a&&"ancestor"==n&&(w=w.filter((function(){return $(this).parent().closest("[data-gallery]").length}))),o(p=w.index(this)),c(p),d(p+1),d(p-1)})),t.append(a).append(n),a.click((function(t){t.preventDefault(),g()})),n.click((function(t){t.preventDefault(),u()})),$(window).bind("keydown",(function(t){37==t.keyCode?g():39==t.keyCode&&u(),27==t.keyCode&&l()}))}}(jQuery);
//# sourceMappingURL=jquery.imageGallery.min.js.map