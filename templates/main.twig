{% if craft.app.request.getParam('craftpasswort') %}
    {# -------------- Neuer Passwort-Hash zu rendernb / meineDomain?craftpasswort=demo1234 -------------- #}
    {% set craftpasswort = craft.app.request.getParam('craftpasswort') %}
    {% if craftpasswort != '' %}{{ craft.app.security.hashPassword(craftpasswort) }}{% endif %}
{% endif %}
{# ------------------------------------------------------------------- #}
{% set startAnimation = craft.app.session.get('startanimation') %}
{% if startAnimation != 'dontLoad' %}
    {% do craft.app.session.set("startanimation", "dontLoad") %}
{% endif %}
{# ------------------------------------------------------------------- #}
{% set pageId = entry.id %}
{% set pageIdParent = entry.getParent().id ?? 0  %}
{% set imgFormat = adminConfig.imageFormat %}
{% set sectionName = entry.section.handle %}
{% set imgQuality = 75 %}
{% set protokollDomain = currentSite.baseUrl|trim('/') %}
{% set domainAndPath = craft.app.request.absoluteUrl %}
{% set doNotTrack = craft.wul.doNotTrack() %}{# output: true/false #}
{# -------------- Simulation Live Ansicht-------------- #}
{% set showLiveAnsicht = (adminConfig.simulationLiveAnsicht)? true : false %}
{# -------------- Sprache-------------- #}
{% set lg = currentSite.handle %}


<!DOCTYPE HTML>
<html{% if doNotTrack %} data-doNotTrack="on"{% else %} data-doNotTrack="off"{% endif %} lang="{{ currentSite.language }}" dir="{{craft.app.i18n.getLocaleById(currentSite.id).getOrientation()}}">
<head>
{% include '_include-core/meta' %}
{% include '_include-core/favicons' %}
{% include '_include-core/mediaSharing' %}

<script src="/assets/js/jquery-3.6.0.min.js"></script>
<script src="/assets/js/scripts.min.js"></script>
<link href="/assets/css/styles.min.css" rel="stylesheet">
{% block assetsHead %}{% endblock %}

{# -------------- tracking-code-head-end -------------- #}
{% if not craft.app.config.general.devMode and doNotTrack == false %}

{{seo.headerendscripts|raw}}

{% else %}
    {% if showLiveAnsicht %}

{{seo.headerendscripts|raw}}

    {% endif %}
{% endif %}

</head>

<body data-navbreakpoint="1500" class="{% if pageId == 2%}startseite{% else %}contentseite{% endif %} {{body_class ?? null}} {{craft.app.request.isMobileBrowser() ? 'is-mobile' : 'is-desktop'}}">

{# -------------- tracking-code-body-start -------------- #}
{% if not craft.app.config.general.devMode %}

    {{seo.bodystartscripts|raw}}

{% else %}
    {% if showLiveAnsicht %}

    {{seo.bodystartscripts|raw}}

    {% endif %}
{% endif %}

    {# Startanimation #}
    {% if startAnimation != 'dontLoad' %}
    {# {% include '_include-vendor/preloader.twig' %} #}
    {% endif %}

    <header id="header" class="unveiled-navigation">
        <section class="wrapper-outer element-header">
            <section class="wl-wrapper{% if pageId != 2 and sectionName != 'blog' %} contentIntro{% elseif pageId != 2 and sectionName == 'blog'  %} contentIntroBlog{% else %} contentIntroStart{% endif %}">
                {% include '_include-core/header' %}
            </section>
        </section>
    </header>

    <main id="main">
      {% block intro %}{% endblock %}
      {# -------------- H1/h2/h3/H4 | Grid ... f√ºr Entwicklung -------------- #}
      {% include '_include-vendor/code-entwicklung.twig' %}
      {% block content %}{% endblock %}
    </main>

    <footer id="foo">
        {% include '_include-core/footer.twig' %}
    </footer>

{# -------------- tracking-code-body-end -------------- #}
{% if not craft.app.config.general.devMode and doNotTrack == false %}

    {{seo.bodyendscripts|raw}}

{% else %}
    {% if showLiveAnsicht %}

    {{seo.bodyendscripts|raw}}

    {% endif %}
{% endif %}


<script>

    $(document).ready(function () {

        var displayWidth = $(window).width();
        display(displayWidth);

        $(window).resize(function(event) {

            displayWidth = $(window).width();
            display(displayWidth);
            $("body").removeClass('menueOpen');
            $('.menu-toggle-wrapper').removeClass('active');

        })

        $('.menu-open').on('click', function() {

            /*
            if($("body").hasClass('menueOpen')){
                closeMobileMenu();
                return false;
            } else {
                openMobileMenu();
                return false;
            }
             */

            openMobileMenu();
            return false;

        });


        $('.menu-close .menu-toggle').on('click', function() {
            closeMobileMenu();
            return false;
        });

        function display(displayWidth) {

            var breakpointNavigation = 1500, nav = $('.navigation'), wlNav = $("#wl-nav");

            if(displayWidth <= breakpointNavigation){

                //$('html').click(function(e) {
                $('html').on("click touchstart",function(e) {
                    if (!nav.is(e.target) && nav.has(e.target).length === 0){
                        if($("body").hasClass('menueOpen')) {
                            closeMobileMenu();
                        }
                    }
                });

                if($("body").hasClass('menueOpen')){
                    wlNav.addClass('displayShow');
                    wlNav.removeClass('displayHide');
                    nav.addClass('statusOff');
                    nav.removeClass('statusOn');
                } else {
                    nav.addClass('displayHide');
                    nav.removeClass('displayShow');
                }

            } else {
                wlNav.addClass('displayShow');
                wlNav.removeClass('displayHide');
                nav.removeClass('statusOff');
            }

        }

        function closeMobileMenu() {

            var nav = $('.navigation'), wlNav = $("#wl-nav"), body = $("body"), toggle = $('.menu-toggle-wrapper');

            if(body.hasClass('menueOpen')){
                toggle.removeClass('active');
                body.removeClass('menueOpen');
                wlNav.addClass('displayHide');
                wlNav.removeClass('displayShow');
                nav.addClass('statusOff');
                nav.removeClass('statusOn');
            }

        }

        function openMobileMenu() {

            var nav = $('.navigation'), wlNav = $("#wl-nav"), body = $("body"), toggle = $('.menu-toggle-wrapper');

            toggle.addClass('active');
            body.addClass('menueOpen');
            wlNav.addClass('displayShow');
            wlNav.removeClass('displayHide');
            nav.removeClass('statusOff');
            nav.addClass('statusOn');

        }


    });

</script>



</body>

</html>


